
<div id="address-panel">
    <input id="address-submit" type="textbox" value="New York, NY">
    <input id="address-submit-button" type="button" value="Geocode">
</div>

<div id="map"></div>

<script  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDzDUyA7JETU9aaofrnQdoTqXCLEBrSywA&libraries=places" type="text/javascript">
</script>

<script type="text/javascript">

function initMap() {
	map = new google.maps.Map(document.getElementById('map'), {
	  center: {lat: 40.714623, lng: -74.006605},
	  zoom: 14
	});
	var marker = new google.maps.Marker({
		position:{lat: 40.70894, lng: -74.01066},
		map: map
	});
	var infoWindow = new google.maps.InfoWindow({
		content: '<h3>New York, NY</h3>'
	});
	marker.addListener('click', function(){
		infoWindow.open(map, marker);
	});
	var geocoder = new google.maps.Geocoder();
	document.getElementById('address-submit-button').addEventListener('click', function() {
        geocodeAddress(geocoder, map);
    });
};
function geocodeAddress(geocoder, resultsMap) {
    var address = document.getElementById('address-submit').value;
    geocoder.geocode({'address': address}, function(results, status) {
      if (status === 'OK') {
        resultsMap.setCenter(results[0].geometry.location);
        var marker = new google.maps.Marker({
          map: resultsMap,
          position: results[0].geometry.location
        });
      } else {
        alert('Geocode was not successful for the following reason: ' + status);
      }
    });
}



setTimeout(initMap, 10);
</script>



